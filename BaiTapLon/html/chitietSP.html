<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi tiết sản phẩm - Gia Dụng Online</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/index.css">
</head>

<body>
    <header class="p-3 bg-dark text-white d-flex justify-content-between align-items-center">
        <img src="../img/logo.png" alt="Logo" style="height: 50px;">
        <nav>
            <a href="index.html" class="text-white mx-2">Trang chủ</a>
            <a href="sanpham.html" class="text-white mx-2">Sản phẩm</a>
            <a href="tintuc.html" class="text-white mx-2">Tin tức</a>
            <a href="giohang.html" class="text-white mx-2">Giỏ hàng</a>
            <a href="dangky.html" class="text-white mx-2">Đăng ký</a>
        </nav>
    </header>

    <main class="container my-5" id="productDetail">

    </main>

    <footer class="bg-dark text-center text-white py-3">© 2025 Gia Dụng Online - IUH-FIT</footer>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get('id');
        const products = JSON.parse(localStorage.getItem('products')) || [];
        const product = products.find(p => p.id == id);
        const detailContainer = document.getElementById('productDetail');

        if (product) {
            detailContainer.innerHTML = `
        <div class="row">
            <div class="col-md-6">
                <img src="${product.image}" class="img-fluid rounded" alt="${product.name}">
            </div>
            <div class="col-md-6">
                <h2>${product.name}</h2>
                <p class="fs-4">Giá: ${product.price.toLocaleString()}₫</p>
                <button onclick="addToCart(${product.id})" class="btn btn-success">Thêm vào giỏ hàng</button>
            </div>
        </div>
    `;
        } else {
            detailContainer.innerHTML = `<div class="alert alert-warning">Không tìm thấy sản phẩm!</div>`;
        }

        function addToCart(id) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let existing = cart.find(item => item.id === id);
            if (existing) {
                existing.quantity += 1;
            } else {
                cart.push({
                    id: id,
                    quantity: 1
                });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Sản phẩm đã được thêm vào giỏ hàng!');
        }
    </script>
</body>

</html>